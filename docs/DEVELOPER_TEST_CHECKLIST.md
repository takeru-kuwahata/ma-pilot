# 開発者向け検証チェックリスト

**作成日**: 2026-01-29
**対象環境**: https://ma-pilot.vercel.app
**ログイン**: kuwahata@idw-japan.net / advance2026

---

## 検証の進め方

1. 各項目を上から順に検証
2. ✅ = 正常動作、❌ = エラー発生、⚠️ = 動作するが問題あり
3. エラーが出た場合は、**ブラウザのConsole（F12）のエラーメッセージ**をコピー
4. 問題があればすぐに修正対応

---

## 1. 認証・ログイン

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 1.1 | ログイン画面表示 | https://ma-pilot.vercel.app にアクセス | ログインフォームが表示される | ✅ | |
| 1.2 | ログイン成功 | メール・パスワード入力→ログインボタン | `/admin/dashboard`に遷移 | ✅ | |
| 1.3 | ユーザー情報表示 | ログイン後、右上のアバター確認 | 「システム管理者」と表示 | ✅ | |

---

## 2. 管理機能（3ページ）

### 2.1 管理ダッシュボード (`/admin/dashboard`)

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 2.1.1 | ページ表示 | 左メニュー「管理ダッシュボード」クリック | KPI・グラフ・医院リストが表示 | ✅ | |
| 2.1.2 | KPI表示 | 画面上部のカード確認 | 登録医院数・アクティブ医院数等が表示 | ✅ | |
| 2.1.3 | グラフ表示 | 「登録医院数推移」グラフ確認 | Rechartsグラフが表示される | ✅ | |
| 2.1.4 | 医院リスト表示 | 「最近の登録医院」テーブル確認 | さくら歯科クリニックが表示 | ✅ | |

### 2.2 医院アカウント管理 (`/admin/clinics`)

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 2.2.1 | ページ表示 | 左メニュー「医院アカウント管理」クリック | 医院リスト・検索バーが表示 | ✅ | |
| 2.2.2 | 医院リスト表示 | テーブル確認 | さくら歯科クリニックが表示 | ✅ | |
| 2.2.3 | 検索機能 | 検索バーに「さくら」入力 | フィルタリングされる | ✅ | |
| 2.2.4 | 新規登録ボタン | 「新規登録」ボタンクリック | アラート「開発中」が表示 | ✅⚠️ | 暫定対応 |
| 2.2.5 | ステータス切替 | 停止ボタンクリック | ステータスが「停止中」に変わる | ✅ | |

### 2.3 システム設定 (`/admin/settings`)

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 2.3.1 | ページ表示 | 左メニュー「システム設定」クリック | 設定フォームが表示 | ✅ | UI実装済み |
| 2.3.2 | 外部API設定表示 | e-Stat API設定確認 | 入力フィールドが表示 | ✅ | ダミー値表示中 |
| 2.3.3 | 外部API保存 | 「保存する」ボタンクリック | API設定が保存される | ❌⚠️ | 未実装（TODO） |
| 2.3.4 | 接続テスト | 「接続テスト」ボタンクリック | テスト結果が表示 | ❌⚠️ | 未実装（TODO） |
| 2.3.5 | メール設定保存 | メール設定「保存する」クリック | メール設定が保存される | ❌⚠️ | 未実装（TODO） |
| 2.3.6 | テストメール送信 | 「テストメール送信」クリック | テストメールが送信される | ❌⚠️ | 未実装（TODO） |
| 2.3.7 | システム設定保存 | システム全般設定「保存」クリック | 設定が保存される | ⚠️ | API実装済みだが永続化なし |

**注**: システム設定の大部分（11機能中9機能）が未実装（TODO）。詳細は`docs/ADMIN_SETTINGS_STATUS.md`参照。クライアントテストには影響なし（管理者専用機能）。

---

## 3. 医院機能（6ページ）

### 3.1 ダッシュボード (`/dashboard`)

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 3.1.1 | ページ表示 | 左メニュー「ダッシュボード」クリック | KPI・グラフが表示 | ✅ | デモデータ表示 |
| 3.1.2 | KPI表示 | 3つのKPIカード確認 | 総売上・営業利益・総患者数が表示 | ✅ | ¥8,500,000 / ¥3,200,000 / 420人 |
| 3.1.3 | 売上・利益推移グラフ | 「売上・利益推移」グラフ確認 | 折れ線グラフ（05月-10月）が表示 | ✅ | 正常表示 |
| 3.1.4 | 患者数グラフ | 「患者数推移」グラフ確認 | 棒グラフが表示 | ✅ | 新患・既存患者 |
| 3.1.5 | 稼働率グラフ | 「ユニット稼働率推移」確認 | 折れ線グラフ100%表示 | ✅ | Y軸domain修正済み |
| 3.1.6 | 自費率グラフ | 「自費率推移」確認 | 折れ線グラフ29%前後表示 | ✅ | Y軸domain修正済み |

### 3.2 基礎データ管理 (`/data-management`)

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 3.2.1 | ページ表示 | 左メニュー「基礎データ管理」クリック | ページが表示される | ✅ | ボタンのみ表示 |
| 3.2.2 | データ入力フォーム | 「新規データ入力」ボタンクリック | 入力フォームが表示される | ❌⚠️ | **未実装**（TODO） |
| 3.2.3 | 登録済みデータ一覧 | テーブル確認 | 登録済みデータが表示される | ✅ | 現在は「データがありません」 |
| 3.2.4 | CSV取込 | 「CSVファイル選択」ボタンクリック | ファイル選択ダイアログが表示 | ✅ | 実装済み・動作正常 |

**注**: 新規データ入力機能（手動入力フォーム）が未実装。CSV取込で暫定対応可能。詳細は`docs/DATA_MANAGEMENT_STATUS.md`参照。

### 3.3 診療圏分析 (`/market-analysis`)

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 3.3.1 | ページ表示 | 左メニュー「診療圏分析」クリック | ページが表示される | ✅ | UI枠組み完成 |
| 3.3.2 | 統計カード表示 | 4枚のカード確認 | カードが表示される | ✅ | 表示正常 |
| 3.3.3 | 統計データ表示 | 人口・高齢化率・競合医院数等確認 | データが表示される | ⚠️ | 意図的に0表示（Phase 5-6） |
| 3.3.4 | 地図表示 | 診療圏マップ確認 | Google Maps地図が表示 | ⚠️ | プレースホルダー「Phase 5以降」 |
| 3.3.5 | 競合医院一覧 | 周辺競合歯科医院確認 | 競合一覧が表示される | ⚠️ | 「データがありません」（Phase 5） |

**注**: UI枠組み完成。外部API統合（Google Maps, e-Stat, RESAS）はPhase 5-6で実装予定。詳細は`docs/MARKET_ANALYSIS_TASK_SEPARATION.md`参照。クライアントテストには影響なし（将来実装予定の機能として扱う）。

### 3.4 経営シミュレーション (`/simulation`)

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 3.4.1 | ページ表示 | 左メニュー「経営シミュレーション」クリック | シミュレーションフォームが表示 | ✅ | UI完成 |
| 3.4.2 | 条件設定 | 各変動率フィールドに値を入力 | 入力できる | ✅ | 5%刻み（step属性追加済み） |
| 3.4.3 | シミュレーション実行 | 「シミュレーション実行」ボタンクリック | 結果が表示される | ✅ | 修正完了（変動率→目標値変換） |
| 3.4.4 | 結果表示 | シミュレーション結果確認 | 6つの指標が表示される | ✅ | 予測売上・利益・利益率・変動額 |
| 3.4.5 | エラーハンドリング | 月次データ未登録状態でテスト | エラーメッセージが表示される | ✅ | Toast通知実装済み |
| 3.4.6 | 推移予測グラフ | グラフ表示確認 | グラフが表示される | ❌ | **未実装**（プレースホルダー） |

**注**: シミュレーション実行機能は修正完了。推移予測グラフは未実装（運用開始後に実装予定）。詳細は`docs/SIMULATION_STATUS.md`参照。

### 3.5 レポート管理 (`/reports`)

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 3.5.1 | ページ表示 | 左メニュー「レポート管理」クリック | ページが表示される | ✅ | UI完成 |
| 3.5.2 | テンプレート表示 | 3つのテンプレートカード確認 | カードが表示される | ✅ | 月次経営・診療圏分析・シミュレーション |
| 3.5.3 | テンプレートダウンロード | ダウンロードボタンクリック | レポート生成・ダウンロード | ✅ | **修正完了** |
| 3.5.4 | レポート生成履歴表示 | 「レポート生成履歴」テーブル確認 | 履歴が表示される | ✅ | 現在は「レポートがありません」 |
| 3.5.5 | 履歴ダウンロード | 履歴のダウンロードボタンクリック | PDFダウンロード | ⚠️ | 実装済みだがデータなし |
| 3.5.6 | カスタムレポート作成 | 「カスタムレポート作成」ボタンクリック | ダイアログが表示される | ❌ | **未実装**（TODO） |
| 3.5.7 | 削除機能 | 削除ボタンクリック | 確認後削除される | ❌ | **未実装**（TODO） |

**注**: テンプレートダウンロード機能は修正完了。カスタムレポート作成・削除機能は未実装（運用開始後に実装予定）。詳細は`docs/REPORTS_STATUS.md`参照。クライアントテストは依頼事項#3（レポート生成機能のテスト）で実施。

### 3.6 印刷物発注 (`/print-order`)

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 3.6.1 | ページ表示 | 左メニュー「印刷物発注」クリック | 発注フォームが表示 | [✅] | UI完成（1,301行実装） |
| 3.6.2 | パターン選択 | 相談フォーム/再注文を選択 | パターン切替が動作 | [✅] | 動的フォーム実装済み |
| 3.6.3 | 商品種類選択 | 再注文で商品種類選択 | ドロップダウン表示 | [✅] | 5種類対応 |
| 3.6.4 | 数量選択 | 数量ドロップダウン選択 | 選択できる | [✅] | 100〜5,000枚 |
| 3.6.5 | 見積もり自動計算 | 商品種類・数量選択 | 見積金額が即座に表示 | [✅] | 価格マスタ連動 |
| 3.6.6 | 納期希望日 | 日付選択 | カレンダーが表示 | [✅] | DatePicker実装済み |
| 3.6.7 | バリデーション | 必須項目未入力で送信 | エラーメッセージ表示 | [✅] | React Hook Form |
| 3.6.8 | 注文送信 | 「注文を送信」ボタンクリック | 成功メッセージ | [✅] | エラーハンドリング実装済み |
| 3.6.9 | 注文履歴表示 | 印刷物発注履歴ページにアクセス | 履歴テーブルが表示 | [✅] | 現在は「注文がありません」 |
| 3.6.10 | 見積書PDF生成 | 再注文パターンで送信 | PDFが生成される | [✅] | WeasyPrint実装済み |
| 3.6.11 | デザインファイルアップロード | ファイル選択 | アップロード | [❌] | **未実装** |
| 3.6.12 | 管理画面（ステータス変更） | 管理者がステータス変更 | 変更できる | [❌] | **未実装** |
| 3.6.13 | Stripe決済 | 決済フォーム表示 | 決済できる | [❌] | **未実装** |

**注**: コア機能（注文フォーム、見積もり計算、注文履歴、PDF生成）は完成（実装率85%）。拡張機能（ファイルアップロード、管理画面、Stripe決済）は未実装。詳細は`docs/PRINT_ORDER_STATUS.md`参照。クライアント協議で優先順位を決定後、実装。

---

## 4. 設定機能（2ページ）

### 4.1 医院設定 (`/clinic-settings`)

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 4.1.1 | ページ表示 | 左メニュー「医院設定」クリック | 医院情報フォームが表示 | [ ] | |
| 4.1.2 | 医院情報表示 | さくら歯科クリニックの情報確認 | 住所・電話番号等が表示 | [ ] | |
| 4.1.3 | 保存ボタン | 「保存」ボタンクリック | 成功メッセージが表示 | [ ] | |

### 4.2 スタッフ管理 (`/staff-management`)

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 4.2.1 | ページ表示 | 左メニュー「スタッフ管理」クリック | スタッフリストが表示 | [ ] | |
| 4.2.2 | 招待ボタン | 「スタッフ招待」ボタンクリック | ダイアログが表示される | [ ] | |

---

## 5. 共通機能

### 5.1 ナビゲーション

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 5.1.1 | メニュー表示 | 左サイドバー確認 | 全11項目が表示される | [ ] | |
| 5.1.2 | メニュー切替 | 管理メニュー→医院メニュー→管理メニュー | スムーズに切り替わる | [ ] | |
| 5.1.3 | ログアウト | 「ログアウト」ボタンクリック | ログイン画面に戻る | [ ] | |

### 5.2 レスポンシブ対応

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 5.2.1 | スマホ表示 | ブラウザ幅を狭める（F12→デバイスツールバー） | レイアウトが崩れない | [ ] | |
| 5.2.2 | タブレット表示 | 768px幅で確認 | メニューが適切に表示される | [ ] | |

---

## 6. エラーハンドリング

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 6.1 | 存在しないURL | `/nonexistent`にアクセス | 404ページまたはリダイレクト | [ ] | |
| 6.2 | API接続エラー | ネットワークタブで確認 | 500エラーが出ていないか | [ ] | |
| 6.3 | Console警告 | F12→Console確認 | 重大なエラーが出ていないか | [ ] | |

---

## 7. パフォーマンス

| # | 項目 | 手順 | 期待結果 | 結果 | 備考 |
|---|------|------|----------|------|------|
| 7.1 | ページ読み込み速度 | 各ページのロード時間測定 | 3秒以内 | [ ] | |
| 7.2 | グラフ描画速度 | ダッシュボードのグラフ表示時間 | 2秒以内 | [ ] | |

---

## 検証結果サマリー

**検証日時**: ____________

**総合評価**:
- ✅ 正常: ____ 項目
- ⚠️ 要改善: ____ 項目
- ❌ エラー: ____ 項目

**クリティカルな問題**:
1.
2.
3.

**次のアクション**:
1.
2.
3.

---

## 検証後の対応フロー

1. **エラーが出たページ**を報告
2. 優先度に応じて修正（クリティカル > 高 > 中 > 低）
3. 修正後、再検証
4. 全項目✅になったら、クライアント向けドキュメント更新
5. 次回ミーティング日程調整

---

**備考**:
- この検証は**シークレットウィンドウ（Cmd+Shift+N）**で実施すること
- 各ページで**F12→Console**を開いてエラーを確認すること
- 問題があればスクリーンショット撮影

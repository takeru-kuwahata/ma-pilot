# MA-Pilot ロードマップ

今後の開発計画を記載しています。

---

## 完了済み

### Phase 1-4: MVP基盤構築（2024年11月〜12月）

- [x] 要件定義
- [x] Git/GitHub管理
- [x] フロントエンド基盤構築
- [x] 10ページ実装（モックデータ）

### Phase 5: バックエンドAPI実装（2025年12月）

- [x] FastAPIバックエンド基盤構築
- [x] 認証API
- [x] 医院データAPI
- [x] 月次データAPI（CRUD、CSV取込）
- [x] ダッシュボードAPI
- [x] シミュレーションAPI
- [x] レポートAPI（PDF生成）
- [x] 診療圏分析API
- [x] スタッフ管理API
- [x] 管理者API
- [x] Supabaseデータベース統合
- [x] RLS設定
- [x] 30エンドポイント実装完了

### Phase 7: 印刷物受注システム（2025年12月）

- [x] 注文フォーム（相談・再注文パターン）
- [x] 自動見積もりロジック
- [x] 価格表マスタ管理
- [x] 見積もりPDF生成
- [x] メール送信（MVP版）
- [x] 注文履歴一覧
- [x] 7エンドポイント実装

---

## 進行中

### Phase 5.5: バックエンド品質向上（2026年1月）

**期間**: 2週間
**優先度**: 高

#### タスク

- [ ] 全エンドポイントの統合テスト追加
- [ ] エラーハンドリング強化
- [ ] ログ出力の統一
- [ ] パフォーマンス最適化
- [ ] セキュリティ監査

---

## 予定（短期: 3ヶ月以内）

### Phase 6: ヒアリングシート機能（2026年2月〜3月）

**期間**: 2〜3週間
**優先度**: 中

#### 実装内容

- [ ] ヒアリングフォーム（PDFベースのWebフォーム）
- [ ] AI分析機能（Claude API統合）
- [ ] 企業レコメンド（ルールベースマッチング）
- [ ] ダッシュボード統合（タブUI）
- [ ] 運営側分析機能（全クリニック集計）
- [ ] Lstep連携（外部ID認証）

#### データベース

- [ ] hearingsテーブル追加
- [ ] hearing_analysesテーブル追加
- [ ] companiesテーブル追加
- [ ] recommendationsテーブル追加

#### 完了条件

- [ ] ヒアリングフォーム動作確認完了
- [ ] AI分析（Claude API）動作確認完了
- [ ] 企業レコメンド表示確認完了
- [ ] ダッシュボードにヒアリング分析タブ追加完了

---

### Phase 8: 印刷物受注システム拡張（2026年3月〜4月）

**期間**: 2週間
**優先度**: 中

#### 実装内容

- [ ] Stripe決済連携
- [ ] 注文ステータス管理機能
- [ ] 管理者向け受注管理画面
- [ ] PDF注文書自動生成
- [ ] メール送信（本番SMTP対応）

---

## 予定（中期: 6ヶ月以内）

### Phase 9: PILOT自動連携（2026年5月〜6月）

**期間**: 2週間
**優先度**: 高

#### 実装内容

- [ ] PILOT Webhook転送機能導入（月額5,500円）
- [ ] リアルタイムデータ同期
- [ ] エラーリトライロジック
- [ ] データ整合性チェック

#### 期待効果

- 手動CSV取込が不要に
- リアルタイムダッシュボード更新
- データ入力ミス削減

---

### Phase 10: LINE連携（2026年7月）

**期間**: 1週間
**優先度**: 中

#### 実装内容

- [ ] LINE Messaging API統合
- [ ] 友だち数自動取得
- [ ] LINE公式アカウント分析データ取込

---

### Phase 11: ベンチマーク機能（2026年8月〜9月）

**期間**: 3週間
**優先度**: 中

#### 実装内容

- [ ] 多医院データ比較機能
- [ ] 匿名化された業界平均データ表示
- [ ] 自医院の位置づけ可視化
- [ ] ベストプラクティス提案

#### データベース

- [ ] benchmarksテーブル追加
- [ ] 集計用マテリアライズドビュー

---

## 予定（長期: 1年以内）

### Phase 12: MAP-STAR Web連携（2026年10月〜11月）

**期間**: 3週間
**優先度**: 低

#### 実装内容

- [ ] MAP-STAR Web API連携（月額17,000円〜）
- [ ] 歯科医院特化診療圏分析
- [ ] 競合分析詳細データ取得

---

### Phase 13: AIによる経営アドバイス（2026年12月〜2027年1月）

**期間**: 4週間
**優先度**: 低

#### 実装内容

- [ ] Claude API統合（経営アドバイス生成）
- [ ] 月次レポート自動生成
- [ ] 戦略提案の高度化
- [ ] 予測モデル（将来の売上・患者数予測）

---

### Phase 14: モバイルアプリ（2027年2月〜4月）

**期間**: 8週間
**優先度**: 低

#### 実装内容

- [ ] React Native版アプリ開発
- [ ] iOS/Android対応
- [ ] プッシュ通知（アラート）
- [ ] オフライン対応

---

## スケーリング・インフラ強化（継続的）

### データベース

- [ ] Supabase Proプラン移行（DB容量拡大）
- [ ] パーティショニング実装（月次データを年単位で分割）
- [ ] クエリパフォーマンス最適化

### バックエンド

- [ ] Redis導入（キャッシュ、セッション管理）
- [ ] Celery導入（非同期タスク処理）
- [ ] ロードバランサー導入
- [ ] 複数インスタンス運用

### モニタリング

- [ ] Sentry導入（エラートラッキング）
- [ ] Datadog導入（APM）
- [ ] CloudWatch Logs導入
- [ ] Prometheus + Grafana導入

---

## セキュリティ強化（継続的）

- [ ] 二要素認証（2FA）
- [ ] レート制限（API）
- [ ] WAF（Web Application Firewall）導入
- [ ] セキュリティヘッダー強化
- [ ] 定期ペネトレーションテスト

---

## コミュニティ・ドキュメント（継続的）

- [ ] ユーザーフォーラム開設
- [ ] 動画チュートリアル作成
- [ ] オンラインセミナー開催
- [ ] ユーザー事例集作成

---

## 優先順位判断基準

### 高優先度
- ユーザーからの強い要望
- 競合優位性に直結
- 収益化に貢献

### 中優先度
- 業務効率化に貢献
- ユーザー満足度向上
- 技術的負債の返済

### 低優先度
- 「あったらいいな」機能
- 一部ユーザーのみの要望
- 技術的チャレンジ

---

## フィードバック

ロードマップへのフィードバックは以下で受け付けています:

- **GitHub Discussions**: https://github.com/takeru-kuwahata/ma-pilot/discussions
- **メール**: product@ma-pilot.local

---

**最終更新**: 2025年12月26日
